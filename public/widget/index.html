<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Feedlr - Widget</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap"
      rel="stylesheet"
    />
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <link rel="stylesheet" href="./widget-style.css" />
  </head>
  <body x-data="{showWindow: true, submitted: false}" class="dark">
    <div
      id="app"
      x-data="projectData()"
      x-show="projectData().project"
      x-init="init()"
    >
      <main class="container" x-show="showWindow">
        <header>
          <button @click="showWindow = false" class="close_button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-x"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </header>
        <div class="content">
          <p
            class="feedback_question"
            x-text="project.setting.question.replaceAll('%name%', project.name)"
          >
            What do you think about Feedlr.?
          </p>
          <div class="emojis_collections">
            <label for="hate" class="hate">
              <input
                type="radio"
                name="reaction"
                class="emoji_radio"
                id="hate"
                value="hate"
              />
              <img
                src="./emojis/hate.gif"
                width="40"
                height="40"
                alt="Hate Gif"
              />
            </label>
            <label for="disappointed" class="disappointed">
              <input
                type="radio"
                name="reaction"
                value="disappointed"
                class="emoji_radio"
                id="disappointed"
              />
              <img
                src="./emojis/disappointed.gif"
                width="40"
                height="40"
                alt="Disappointed Gif"
              />
            </label>
            <label for="natural" class="natural">
              <input
                type="radio"
                name="reaction"
                value="natural"
                class="emoji_radio"
                id="natural"
              />
              <img
                src="./emojis/natural.gif"
                width="40"
                height="40"
                alt="Natural Gif"
              />
            </label>
            <label for="good" class="good">
              <input
                type="radio"
                name="reaction"
                value="good"
                class="emoji_radio"
                id="good"
              />
              <img
                src="./emojis/good.gif"
                width="40"
                height="40"
                alt="Good Gif"
              />
            </label>
            <label for="excellent" class="excellent">
              <input
                type="radio"
                name="reaction"
                value="excellent"
                class="emoji_radio"
                id="excellent"
              />
              <img
                src="./emojis/excellent.gif"
                width="40"
                height="40"
                alt="Excellent Gif"
              />
            </label>
          </div>

          <div class="feedback_section">
            <textarea
              class="feedback_area"
              name="feedback"
              id="feedback"
              cols="30"
              rows="10"
            ></textarea>
            <button
              @click="submitted = true; showWindow = false; setInterval(() => {submitted = false}, 1000)"
              class="submit_button"
            >
              Submit Feedback
            </button>
          </div>
        </div>
        <footer class="text-center">
          Widget by
          <a target="_blank" rel="noreferrer" href="https://feedlr.vercel.app"
            >Feedlr.</a
          >
        </footer>
      </main>
      <div id="thankyou" x-show="submitted" class="thankyouWindow">
        Thanks for your feedback.
      </div>
    </div>
    <script src="./widget.js"></script>
  </body>
</html>
